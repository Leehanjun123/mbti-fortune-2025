<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI Í∂ÅÌï© Í≥ÑÏÇ∞Í∏∞ - Ïó∞Ïï†, ÏπúÍµ¨, ÏßÅÏû• Í∂ÅÌï© Î∂ÑÏÑù</title>
    <meta name="description" content="MBTI Ïú†ÌòïÎ≥Ñ Í∂ÅÌï© Ï†êÏàòÏôÄ ÏÉÅÏÑ∏ Î∂ÑÏÑù. Ïó∞Ïï†, ÏπúÍµ¨, ÏßÅÏû•ÏóêÏÑúÏùò Í¥ÄÍ≥Ñ Ï°∞Ïñ∏">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N1BD4K7BV9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-N1BD4K7BV9');
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .compatibility-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #ff6b6b;
            margin-bottom: 30px;
            font-size: 2em;
        }
        
        .selector-section {
            display: flex;
            justify-content: space-around;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .type-selector {
            flex: 1;
            min-width: 250px;
        }
        
        .selector-label {
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .mbti-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .mbti-option {
            padding: 12px;
            border: 2px solid #feca57;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .mbti-option:hover {
            background: #feca57;
            transform: translateY(-2px);
        }
        
        .mbti-option.selected {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
        }
        
        .result-section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .result-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .compatibility-score {
            text-align: center;
            margin: 30px 0;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            margin: 0 auto;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            font-weight: 900;
            color: white;
            position: relative;
            background: conic-gradient(#ff6b6b var(--score), #f0f0f0 var(--score));
        }
        
        .score-label {
            font-size: 1.2em;
            color: #666;
            margin-top: 15px;
        }
        
        .relationship-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
        }
        
        .tab-btn {
            padding: 10px 20px;
            border: none;
            background: #f0f0f0;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            background: #ff6b6b;
            color: white;
        }
        
        .analysis-content {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .analysis-section {
            margin: 20px 0;
        }
        
        .analysis-title {
            font-weight: 700;
            color: #ff6b6b;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .pros, .cons {
            padding: 15px;
            border-radius: 10px;
        }
        
        .pros {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }
        
        .cons {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }
        
        .advice-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .share-section {
            text-align: center;
            margin-top: 30px;
        }
        
        .share-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
        }
        
        .chart-container {
            margin: 30px 0;
        }
        
        .stat-bar {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }
        
        .stat-label {
            width: 120px;
            font-weight: 600;
        }
        
        .stat-progress {
            flex: 1;
            height: 25px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .stat-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #feca57);
            transition: width 1s;
        }
        
        .stat-value {
            margin-left: 15px;
            font-weight: 700;
            color: #ff6b6b;
        }
    </style>
    <!-- ÌÜµÌï© ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
    <script src="navigation.js"></script>
    <!-- ÌîÑÎ¶¨ÎØ∏ÏóÑ ÏãúÏä§ÌÖú -->
    <script src="premium.js"></script>
    <!-- A/B ÌÖåÏä§Ìä∏ -->
    <script src="ab-testing.js"></script>
    <link rel="stylesheet" href="design-system.css">
    <script src="optimization.js"></script>
    <script src="analytics.js"></script>
</head>
<body>
    <div class="container">
        <div class="compatibility-card">
            <h1>üíï MBTI Í∂ÅÌï© Í≥ÑÏÇ∞Í∏∞</h1>
            
            <div class="selector-section">
                <div class="type-selector">
                    <div class="selector-label">ÎÇ¥ MBTI Ïú†Ìòï</div>
                    <div class="mbti-grid" id="type1Grid">
                        <!-- MBTI types will be generated by JS -->
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: center; font-size: 2em;">
                    ‚ù§Ô∏è
                </div>
                
                <div class="type-selector">
                    <div class="selector-label">ÏÉÅÎåÄÎ∞© MBTI Ïú†Ìòï</div>
                    <div class="mbti-grid" id="type2Grid">
                        <!-- MBTI types will be generated by JS -->
                    </div>
                </div>
            </div>
            
            <div id="resultSection" class="result-section">
                <!-- Results will be dynamically inserted here -->
            </div>
        </div>
    </div>
    
    <script>
        const mbtiTypes = ['INTJ', 'INTP', 'ENTJ', 'ENTP', 'INFJ', 'INFP', 'ENFJ', 'ENFP', 
                          'ISTJ', 'ISFJ', 'ESTJ', 'ESFJ', 'ISTP', 'ISFP', 'ESTP', 'ESFP'];
        
        // Í∂ÅÌï© Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ (Ïã§Ï†úÎ°úÎäî 256Í∞ú Ï°∞Ìï©Ïù¥ ÌïÑÏöîÌïòÏßÄÎßå, Ï£ºÏöî Ï°∞Ìï©Îßå Ï†ïÏùò)
        const compatibilityData = {
            'INTJ-ENFP': {
                overall: 92,
                love: { score: 95, desc: 'ÏôÑÎ≤ΩÌïú Î≥¥ÏôÑ Í¥ÄÍ≥Ñ! ÏÑúÎ°úÏùò ÏïΩÏ†êÏùÑ Í∞ïÏ†êÏúºÎ°ú Î∞îÍøîÏ§çÎãàÎã§.' },
                friend: { score: 88, desc: 'ÏßÄÏ†Å Ìò∏Í∏∞Ïã¨ÏùÑ ÏûêÍ∑πÌïòÎäî ÏµúÍ≥†Ïùò ÏπúÍµ¨Í∞Ä Îê† Ïàò ÏûàÏäµÎãàÎã§.' },
                work: { score: 90, desc: 'INTJÏùò Ï†ÑÎûµÍ≥º ENFPÏùò Ï∞ΩÏùòÏÑ±Ïù¥ ÏãúÎÑàÏßÄÎ•º ÎßåÎì≠ÎãàÎã§.' },
                pros: ['ÏÑúÎ°úÎ•º ÏÑ±Ïû•ÏãúÌÇ§Îäî Í¥ÄÍ≥Ñ', 'ÏßÄÏ†Å ÏûêÍ∑πÏù¥ ÌíçÎ∂ÄÌï®', 'Í∑†ÌòïÏû°Ìûå ÏùòÏÇ¨Í≤∞Ï†ï'],
                cons: ['Í∞êÏ†ï ÌëúÌòÑ Î∞©Ïãù Ï∞®Ïù¥', 'ÏùºÏ†ï Í¥ÄÎ¶¨ Ïä§ÌÉÄÏùº Ï∂©Îèå', 'ÏÇ¨Íµê ÌôúÎèô ÏÑ†Ìò∏ÎèÑ Ï∞®Ïù¥'],
                advice: 'INTJÎäî ENFPÏùò Í∞êÏ†ïÏùÑ Ïù∏Ï†ïÌïòÍ≥†, ENFPÎäî INTJÏùò ÎèÖÎ¶ΩÏ†Å ÏãúÍ∞ÑÏùÑ Ï°¥Ï§ëÌïòÏÑ∏Ïöî.',
                stats: {
                    'ÏùòÏÇ¨ÏÜåÌÜµ': 85,
                    'Í∞êÏ†ïÍµêÎ•ò': 78,
                    'Í∞ÄÏπòÍ¥Ä': 90,
                    'ÏÉùÌôúÏäµÍ¥Ä': 72,
                    'ÎØ∏ÎûòÎπÑÏ†Ñ': 94
                }
            },
            'ENFP-INTJ': {
                overall: 92,
                love: { score: 95, desc: 'Ïö¥Î™ÖÏ†ÅÏù∏ ÎßåÎÇ®! ÏÑúÎ°úÏóêÍ≤å ÏóÜÎäî Í≤ÉÏùÑ Ï±ÑÏõåÏ§çÎãàÎã§.' },
                friend: { score: 88, desc: 'ÍπäÏù¥ ÏûàÎäî ÎåÄÌôîÏôÄ Î™®ÌóòÏùÑ Ìï®Íªò Ï¶êÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§.' },
                work: { score: 90, desc: 'ENFPÏùò Ïó¥Ï†ïÍ≥º INTJÏùò Ï≤¥Í≥ÑÍ∞Ä ÏôÑÎ≤ΩÌïú ÌåÄÏùÑ ÎßåÎì≠ÎãàÎã§.' },
                pros: ['ÏÉÅÌò∏ Î≥¥ÏôÑÏ†Å ÏÑ±Í≤©', 'ÎÅäÏûÑÏóÜÎäî ÏÑ±Ïû• ÎèôÎ†•', 'Ï∞ΩÏùòÏ†Å Î¨∏Ï†ú Ìï¥Í≤∞'],
                cons: ['Í≥ÑÌöçÏÑ± Ï∞®Ïù¥', 'Í∞êÏ†ï Ï≤òÎ¶¨ Î∞©Ïãù Ï∞®Ïù¥', 'Ìú¥Ïãù Ïä§ÌÉÄÏùº Ï∞®Ïù¥'],
                advice: 'ENFPÎäî INTJÏùò Í≥ÑÌöçÏùÑ Ï°¥Ï§ëÌïòÍ≥†, INTJÎäî ENFPÏùò Ï¶âÌù•ÏÑ±ÏùÑ Î∞õÏïÑÎì§Ïù¥ÏÑ∏Ïöî.',
                stats: {
                    'ÏùòÏÇ¨ÏÜåÌÜµ': 85,
                    'Í∞êÏ†ïÍµêÎ•ò': 78,
                    'Í∞ÄÏπòÍ¥Ä': 90,
                    'ÏÉùÌôúÏäµÍ¥Ä': 72,
                    'ÎØ∏ÎûòÎπÑÏ†Ñ': 94
                }
            },
            'INFJ-INFJ': {
                overall: 88,
                love: { score: 92, desc: 'ÍπäÏùÄ ÏòÅÌòºÏùò Ïó∞Í≤∞! ÏÑúÎ°úÎ•º ÏôÑÎ≤ΩÌïòÍ≤å Ïù¥Ìï¥Ìï©ÎãàÎã§.' },
                friend: { score: 90, desc: 'ÌèâÏÉù ÏßÄÍ∏∞Í∞Ä Îê† Ïàò ÏûàÎäî ÌäπÎ≥ÑÌïú Ïö∞Ï†ïÏûÖÎãàÎã§.' },
                work: { score: 82, desc: 'ÎπÑÏ†ÑÏùÑ Í≥µÏú†ÌïòÎ©¥ ÎÜÄÎùºÏö¥ ÏùºÏùÑ Ìï¥ÎÇº Ïàò ÏûàÏäµÎãàÎã§.' },
                pros: ['ÏôÑÎ≤ΩÌïú Í∞êÏ†ï Ïù¥Ìï¥', 'ÍπäÏù¥ ÏûàÎäî ÎåÄÌôî', 'ÎπÑÏä∑Ìïú Í∞ÄÏπòÍ¥Ä'],
                cons: ['Í∞àÎì± ÌöåÌîº ÏÑ±Ìñ•', 'Í≥ºÎèÑÌïú ÏôÑÎ≤ΩÏ£ºÏùò', 'Ïô∏Î∂Ä ÌôúÎèô Î∂ÄÏ°±'],
                advice: 'ÏÑúÎ°úÏùò Í∞êÏ†ïÏóê ÎÑàÎ¨¥ Î™∞ÏûÖÌïòÏßÄ ÎßêÍ≥†, ÌòÑÏã§Ï†ÅÏù∏ Î™©ÌëúÎ•º ÏÑ∏Ïö∞ÏÑ∏Ïöî.',
                stats: {
                    'ÏùòÏÇ¨ÏÜåÌÜµ': 95,
                    'Í∞êÏ†ïÍµêÎ•ò': 98,
                    'Í∞ÄÏπòÍ¥Ä': 96,
                    'ÏÉùÌôúÏäµÍ¥Ä': 88,
                    'ÎØ∏ÎûòÎπÑÏ†Ñ': 90
                }
            }
            // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï (ÎÇòÎ®∏ÏßÄ Ï°∞Ìï©Îì§)
        };
        
        // Í∏∞Î≥∏ Í∂ÅÌï© Ï†êÏàò Í≥ÑÏÇ∞ Ìï®Ïàò
        function getDefaultCompatibility(type1, type2) {
            // Í∞ôÏùÄ Ïú†Ìòï
            if (type1 === type2) {
                return {
                    overall: 75,
                    love: { score: 70, desc: 'ÏÑúÎ°úÎ•º Í±∞Ïö∏Ï≤òÎüº ÎπÑÏ∂îÎäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§.' },
                    friend: { score: 80, desc: 'Ìé∏ÏïàÌïòÍ≥† Ïù¥Ìï¥Í∞Ä Îπ†Î•∏ ÏπúÍµ¨ Í¥ÄÍ≥ÑÏûÖÎãàÎã§.' },
                    work: { score: 75, desc: 'ÎπÑÏä∑Ìïú ÏóÖÎ¨¥ Ïä§ÌÉÄÏùºÎ°ú ÌòëÎ†•Ïù¥ ÏàòÏõîÌï©ÎãàÎã§.' },
                    pros: ['ÎÜíÏùÄ Ïù¥Ìï¥ÎèÑ', 'Ìé∏ÏïàÌïú ÏÜåÌÜµ', 'ÎπÑÏä∑Ìïú Í¥ÄÏã¨ÏÇ¨'],
                    cons: ['Í∞ôÏùÄ ÏïΩÏ†ê Í≥µÏú†', 'ÏÑ±Ïû• ÎèôÎ†• Î∂ÄÏ°±', 'ÏÉàÎ°úÏõÄ Î∂ÄÏ°±'],
                    advice: 'ÏÑúÎ°úÏùò comfort zoneÏùÑ Î≤óÏñ¥ÎÇò ÏÉàÎ°úÏö¥ ÎèÑÏ†ÑÏùÑ Ìï®Íªò ÌïòÏÑ∏Ïöî.',
                    stats: {
                        'ÏùòÏÇ¨ÏÜåÌÜµ': 80,
                        'Í∞êÏ†ïÍµêÎ•ò': 75,
                        'Í∞ÄÏπòÍ¥Ä': 85,
                        'ÏÉùÌôúÏäµÍ¥Ä': 80,
                        'ÎØ∏ÎûòÎπÑÏ†Ñ': 75
                    }
                };
            }
            
            // Ïù∏ÏßÄ Í∏∞Îä• Í∏∞Î∞ò Í∏∞Î≥∏ Ï†êÏàò
            const cognitiveScore = calculateCognitiveCompatibility(type1, type2);
            return {
                overall: cognitiveScore,
                love: { score: cognitiveScore + 5, desc: 'ÏÑúÎ°ú Îã§Î•∏ Îß§Î†•Ïóê ÎÅåÎ¶¨Îäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§.' },
                friend: { score: cognitiveScore, desc: 'ÏÑúÎ°úÎ•º Î≥¥ÏôÑÌïòÎäî ÏπúÍµ¨ Í¥ÄÍ≥ÑÏûÖÎãàÎã§.' },
                work: { score: cognitiveScore - 5, desc: 'ÌòëÎ†•ÌïòÎ©¥ Ï¢ãÏùÄ Í≤∞Í≥ºÎ•º ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§.' },
                pros: ['Îã§ÏñëÌïú Í¥ÄÏ†ê', 'ÏÉÅÌò∏ ÏÑ±Ïû•', 'ÏÉàÎ°úÏö¥ Í≤ΩÌóò'],
                cons: ['ÏùòÏÇ¨ÏÜåÌÜµ Ï∞®Ïù¥', 'Ïö∞ÏÑ†ÏàúÏúÑ Ï∞®Ïù¥', 'ÏóêÎÑàÏßÄ Î†àÎ≤® Ï∞®Ïù¥'],
                advice: 'ÏÑúÎ°úÏùò Ï∞®Ïù¥Î•º Ïù∏Ï†ïÌïòÍ≥† Ïû•Ï†êÏúºÎ°ú ÌôúÏö©ÌïòÏÑ∏Ïöî.',
                stats: {
                    'ÏùòÏÇ¨ÏÜåÌÜµ': cognitiveScore - 10,
                    'Í∞êÏ†ïÍµêÎ•ò': cognitiveScore,
                    'Í∞ÄÏπòÍ¥Ä': cognitiveScore + 5,
                    'ÏÉùÌôúÏäµÍ¥Ä': cognitiveScore - 15,
                    'ÎØ∏ÎûòÎπÑÏ†Ñ': cognitiveScore + 10
                }
            };
        }
        
        function calculateCognitiveCompatibility(type1, type2) {
            // Í∞ÑÎã®Ìïú Ïù∏ÏßÄÍ∏∞Îä• Í∏∞Î∞ò Ï†êÏàò Í≥ÑÏÇ∞
            let score = 50;
            
            // E-I Ï∞®Ïù¥
            if (type1[0] !== type2[0]) score += 10;
            
            // N-S ÏùºÏπò
            if (type1[1] === type2[1]) score += 15;
            
            // T-F Î≥¥ÏôÑ
            if (type1[2] !== type2[2]) score += 5;
            
            // J-P Ï∞®Ïù¥
            if (type1[3] !== type2[3]) score += 10;
            
            return Math.min(95, Math.max(40, score + Math.floor(Math.random() * 10)));
        }
        
        let selectedType1 = null;
        let selectedType2 = null;
        let currentTab = 'love';
        
        // Initialize MBTI grids
        function initializeGrids() {
            const grid1 = document.getElementById('type1Grid');
            const grid2 = document.getElementById('type2Grid');
            
            mbtiTypes.forEach(type => {
                // Grid 1
                const btn1 = document.createElement('button');
                btn1.className = 'mbti-option';
                btn1.textContent = type;
                btn1.onclick = () => selectType(1, type);
                grid1.appendChild(btn1);
                
                // Grid 2
                const btn2 = document.createElement('button');
                btn2.className = 'mbti-option';
                btn2.textContent = type;
                btn2.onclick = () => selectType(2, type);
                grid2.appendChild(btn2);
            });
        }
        
        function selectType(grid, type) {
            if (grid === 1) {
                selectedType1 = type;
                document.querySelectorAll('#type1Grid .mbti-option').forEach(btn => {
                    btn.classList.toggle('selected', btn.textContent === type);
                });
            } else {
                selectedType2 = type;
                document.querySelectorAll('#type2Grid .mbti-option').forEach(btn => {
                    btn.classList.toggle('selected', btn.textContent === type);
                });
            }
            
            if (selectedType1 && selectedType2) {
                calculateCompatibility();
            }
        }
        
        function calculateCompatibility() {
            const key = `${selectedType1}-${selectedType2}`;
            const reverseKey = `${selectedType2}-${selectedType1}`;
            
            let data = compatibilityData[key] || compatibilityData[reverseKey] || 
                      getDefaultCompatibility(selectedType1, selectedType2);
            
            displayResults(data);
        }
        
        function displayResults(data) {
            const resultHTML = `
                <div class="compatibility-score">
                    <div class="score-circle" style="--score: ${data.overall}%">
                        <span>${data.overall}%</span>
                    </div>
                    <div class="score-label">Ï†ÑÏ≤¥ Í∂ÅÌï© Ï†êÏàò</div>
                </div>
                
                <div class="relationship-tabs">
                    <button class="tab-btn active" onclick="showTab('love')">üíï Ïó∞Ïï†</button>
                    <button class="tab-btn" onclick="showTab('friend')">üë• ÏπúÍµ¨</button>
                    <button class="tab-btn" onclick="showTab('work')">üíº ÏßÅÏû•</button>
                </div>
                
                <div id="tabContent">
                    ${generateTabContent('love', data)}
                </div>
                
                <div class="chart-container">
                    <h3 style="margin-bottom: 20px;">ÏÉÅÏÑ∏ Í∂ÅÌï© Î∂ÑÏÑù</h3>
                    ${Object.entries(data.stats).map(([key, value]) => `
                        <div class="stat-bar">
                            <span class="stat-label">${key}</span>
                            <div class="stat-progress">
                                <div class="stat-fill" style="width: ${value}%"></div>
                            </div>
                            <span class="stat-value">${value}%</span>
                        </div>
                    `).join('')}
                </div>
                
                <div class="pros-cons">
                    <div class="pros">
                        <h4>üëç Ïû•Ï†ê</h4>
                        <ul style="margin-top: 10px; padding-left: 20px;">
                            ${data.pros.map(pro => `<li>${pro}</li>`).join('')}
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>üëé Ï£ºÏùòÏ†ê</h4>
                        <ul style="margin-top: 10px; padding-left: 20px;">
                            ${data.cons.map(con => `<li>${con}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                
                <div class="advice-box">
                    <h3 style="margin-bottom: 10px;">üí° Í¥ÄÍ≥Ñ Í∞úÏÑ† Ï°∞Ïñ∏</h3>
                    <p>${data.advice}</p>
                </div>
                
                <div class="share-section">
                    <button class="share-btn" onclick="shareResult()">üì§ Í≤∞Í≥º Í≥µÏú†ÌïòÍ∏∞</button>
                    <button class="share-btn" style="background: #FEE500; color: #3C1E1E;">
                        Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú†
                    </button>
                </div>
            `;
            
            document.getElementById('resultSection').innerHTML = resultHTML;
            document.getElementById('resultSection').classList.add('active');
            
            // Animate stats
            setTimeout(() => {
                document.querySelectorAll('.stat-fill').forEach(bar => {
                    bar.style.width = bar.style.width;
                });
            }, 100);
        }
        
        function generateTabContent(tab, data) {
            const tabData = data[tab];
            return `
                <div class="analysis-content">
                    <div class="analysis-section">
                        <div class="analysis-title">${tab === 'love' ? 'üíï Ïó∞Ïï† Í∂ÅÌï©' : tab === 'friend' ? 'üë• ÏπúÍµ¨ Í∂ÅÌï©' : 'üíº ÏßÅÏû• Í∂ÅÌï©'}</div>
                        <div style="font-size: 2em; font-weight: 900; color: #ff6b6b; margin: 10px 0;">
                            ${tabData.score}Ï†ê
                        </div>
                        <p>${tabData.desc}</p>
                    </div>
                </div>
            `;
        }
        
        function showTab(tab) {
            currentTab = tab;
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            const data = compatibilityData[`${selectedType1}-${selectedType2}`] || 
                        compatibilityData[`${selectedType2}-${selectedType1}`] || 
                        getDefaultCompatibility(selectedType1, selectedType2);
            
            document.getElementById('tabContent').innerHTML = generateTabContent(tab, data);
        }
        
        function shareResult() {
            if (navigator.share) {
                navigator.share({
                    title: `${selectedType1} & ${selectedType2} Í∂ÅÌï© Í≤∞Í≥º`,
                    text: `Ïö∞Î¶¨Ïùò Í∂ÅÌï© Ï†êÏàòÎ•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî!`,
                    url: window.location.href
                });
            }
        }
        
        // Initialize
        initializeGrids();
    </script>
</body>
</html>