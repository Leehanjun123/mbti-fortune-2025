<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick User Test - MBTI ìš´ì„¸</title>
    <link rel="stylesheet" href="app-final.css">
    <style>
        .test-overlay {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            z-index: 10001;
            max-width: 300px;
            max-height: 400px;
            overflow-y: auto;
        }
        .test-result {
            margin: 5px 0;
            padding: 3px 6px;
            border-radius: 3px;
        }
        .success { background: #065f46; }
        .error { background: #dc2626; }
        .warning { background: #92400e; }
        .test-button {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <!-- ì‹¤ì œ ì•± ë‚´ìš© (index.htmlì˜ body ë‚´ìš©ê³¼ ë™ì¼í•˜ê²Œ í¬í•¨) -->
    <!-- ë¡œë”© í™”ë©´ -->
    <div class="screen active" id="loadingScreen">
        <div class="container">
            <div class="loading-content">
                <div class="year-container">
                    <span class="year-text">2025</span>
                </div>
                <h1 class="main-text">ë‚´ ìš´ëª…ì€?</h1>
                <div class="loading-spinner"></div>
                <p class="loading-desc">ë‹¹ì‹ ë§Œì˜ íŠ¹ë³„í•œ ìš´ì„¸ë¥¼ ì¤€ë¹„í•˜ê³  ìˆì–´ìš”...</p>
                <div class="user-stats">
                    <span id="userCount">127,892</span>ëª…ì´ í™•ì¸í–ˆì–´ìš”
                </div>
            </div>
        </div>
    </div>

    <!-- ì‹œì‘ í™”ë©´ -->
    <div class="screen" id="startScreen">
        <div class="container">
            <div class="main-content">
                <div class="year-container">
                    <span class="year-text">2025</span>
                </div>
                <h1 class="main-text">ë‚´ ìš´ëª…ì€?</h1>
                <p class="sub-text">3ë¶„ë§Œì— ì•Œì•„ë³´ëŠ” ë‚˜ì˜ 2025ë…„</p>
                <div class="main-buttons">
                    <button class="main-button primary" onclick="startJourney()">
                        âœ¨ ìš´ì„¸ ì•Œì•„ë³´ê¸°
                    </button>
                    <button class="main-button secondary" onclick="showQuickSelect()">
                        ğŸ¯ MBTI ì•Œê³  ìˆì–´ìš”
                    </button>
                </div>
                <div class="user-stats">
                    <span id="userCount2">127,892</span>ëª…ì´ í™•ì¸í–ˆì–´ìš”
                </div>
            </div>
        </div>
    </div>

    <!-- ë‚˜ë¨¸ì§€ í™”ë©´ë“¤ì€ ê°„ì†Œí™” -->
    <div class="screen" id="nameScreen" style="display:none;">
        <div class="container">
            <h2>ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”</h2>
            <input type="text" id="nameInput" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
            <button onclick="submitName()">ë‹¤ìŒ</button>
        </div>
    </div>

    <!-- í…ŒìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ -->
    <div class="test-overlay" id="testOverlay">
        <h3>ğŸ” ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸</h3>
        <div id="testResults"></div>
        <div style="border-top: 1px solid #333; margin-top: 10px; padding-top: 10px;">
            <button class="test-button" onclick="runQuickTest()">ì „ì²´ í…ŒìŠ¤íŠ¸</button>
            <button class="test-button" onclick="testScreens()">í™”ë©´ í…ŒìŠ¤íŠ¸</button>
            <button class="test-button" onclick="testButtons()">ë²„íŠ¼ í…ŒìŠ¤íŠ¸</button>
            <button class="test-button" onclick="testErrors()">ì˜¤ë¥˜ í…ŒìŠ¤íŠ¸</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        let testCount = 0;
        
        function addTestResult(type, message) {
            const results = document.getElementById('testResults');
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.textContent = `${++testCount}. ${message}`;
            results.appendChild(div);
            
            // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ
            results.scrollTop = results.scrollHeight;
        }
        
        function clearResults() {
            document.getElementById('testResults').innerHTML = '';
            testCount = 0;
        }
        
        function runQuickTest() {
            clearResults();
            addTestResult('success', 'ğŸš€ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ì‹œì‘');
            
            // 1. í™”ë©´ ì¡´ì¬ í™•ì¸
            const screens = ['loadingScreen', 'startScreen', 'nameScreen'];
            screens.forEach(screenId => {
                const screen = document.getElementById(screenId);
                if (screen) {
                    addTestResult('success', `${screenId} ì¡´ì¬í•¨`);
                } else {
                    addTestResult('error', `${screenId} ì—†ìŒ`);
                }
            });
            
            // 2. í•¨ìˆ˜ ì¡´ì¬ í™•ì¸
            const functions = ['showScreen', 'startJourney', 'showQuickSelect'];
            functions.forEach(funcName => {
                if (typeof window[funcName] === 'function') {
                    addTestResult('success', `${funcName} í•¨ìˆ˜ ì¡´ì¬`);
                } else {
                    addTestResult('error', `${funcName} í•¨ìˆ˜ ì—†ìŒ`);
                }
            });
            
            // 3. ErrorBoundary í™•ì¸
            if (typeof ErrorBoundary !== 'undefined') {
                addTestResult('success', 'ErrorBoundary ì‹œìŠ¤í…œ í™œì„±');
            } else {
                addTestResult('error', 'ErrorBoundary ì—†ìŒ');
            }
            
            // 4. AccessibilityManager í™•ì¸
            if (typeof AccessibilityManager !== 'undefined') {
                addTestResult('success', 'Accessibility ì‹œìŠ¤í…œ í™œì„±');
            } else {
                addTestResult('error', 'Accessibility ì‹œìŠ¤í…œ ì—†ìŒ');
            }
            
            addTestResult('success', 'âœ… ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ì™„ë£Œ');
        }
        
        function testScreens() {
            clearResults();
            addTestResult('success', 'ğŸ–¥ï¸ í™”ë©´ ì „í™˜ í…ŒìŠ¤íŠ¸');
            
            try {
                // ì‹œì‘ í™”ë©´ìœ¼ë¡œ ì „í™˜
                showScreen('start');
                addTestResult('success', 'ì‹œì‘ í™”ë©´ ì „í™˜ ì„±ê³µ');
                
                setTimeout(() => {
                    const startScreen = document.getElementById('startScreen');
                    if (startScreen && startScreen.style.display !== 'none') {
                        addTestResult('success', 'ì‹œì‘ í™”ë©´ í‘œì‹œë¨');
                    } else {
                        addTestResult('error', 'ì‹œì‘ í™”ë©´ í‘œì‹œ ì•ˆë¨');
                    }
                    
                    // ë¡œë”© í™”ë©´ìœ¼ë¡œ ì „í™˜ í…ŒìŠ¤íŠ¸
                    showScreen('loading');
                    addTestResult('success', 'ë¡œë”© í™”ë©´ ì „í™˜ ì‹œë„');
                }, 500);
                
            } catch (error) {
                addTestResult('error', `í™”ë©´ ì „í™˜ ì˜¤ë¥˜: ${error.message}`);
            }
        }
        
        function testButtons() {
            clearResults();
            addTestResult('success', 'ğŸ”˜ ë²„íŠ¼ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸');
            
            // ëª¨ë“  ë²„íŠ¼ ì°¾ê¸°
            const buttons = document.querySelectorAll('button');
            addTestResult('success', `ì´ ${buttons.length}ê°œ ë²„íŠ¼ ë°œê²¬`);
            
            buttons.forEach((button, index) => {
                if (button.onclick || button.getAttribute('onclick')) {
                    addTestResult('success', `ë²„íŠ¼ ${index+1}: í´ë¦­ ì´ë²¤íŠ¸ ìˆìŒ`);
                } else {
                    addTestResult('warning', `ë²„íŠ¼ ${index+1}: í´ë¦­ ì´ë²¤íŠ¸ ì—†ìŒ`);
                }
            });
        }
        
        function testErrors() {
            clearResults();
            addTestResult('success', 'âš ï¸ ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸');
            
            try {
                // ì˜ë„ì  ì˜¤ë¥˜ ë°œìƒ
                if (typeof ErrorBoundary !== 'undefined') {
                    ErrorBoundary.handleError(new Error('í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜'), 'ìˆ˜ë™ í…ŒìŠ¤íŠ¸');
                    addTestResult('success', 'ì˜¤ë¥˜ ì²˜ë¦¬ ì‹œìŠ¤í…œ ì‘ë™');
                } else {
                    throw new Error('ErrorBoundary ì—†ìŒ');
                }
            } catch (error) {
                addTestResult('error', `ì˜¤ë¥˜ ì²˜ë¦¬ ì‹¤íŒ¨: ${error.message}`);
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ í›„ ìë™ í…ŒìŠ¤íŠ¸
        setTimeout(() => {
            runQuickTest();
        }, 2000);
    </script>
</body>
</html>