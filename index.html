<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 MBTI ìš´ì„¸ - ë‹¹ì‹ ì˜ ìš´ëª…ì„ í™•ì¸í•˜ì„¸ìš”</title>
    
    <!-- Security: HTTPS ê°•ì œ -->
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    
    <!-- SEO -->
    <meta name="description" content="2025ë…„ MBTIë³„ ìš´ì„¸ë¥¼ ë¬´ë£Œë¡œ í™•ì¸í•˜ì„¸ìš”. ì—°ì• ìš´, ê¸ˆì „ìš´, ì§ì—…ìš´ê¹Œì§€!">
    <meta property="og:title" content="2025 MBTI ìš´ì„¸">
    <meta property="og:description" content="ë‚´ MBTI ìœ í˜•ìœ¼ë¡œ ë³´ëŠ” 2025ë…„ ìš´ì„¸ ğŸ”®">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            font-display: swap; /* í°íŠ¸ ë¡œë”© ìµœì í™” */
        }
        
        /* ì»¨í…Œì´ë„ˆ */
        .app {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.5s ease;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* í™”ë©´ ê´€ë¦¬ */
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* íƒ€ì´í¬ê·¸ë˜í”¼ */
        h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .subtitle {
            color: #718096;
            font-size: 1.1rem;
            text-align: center;
            margin-bottom: 40px;
            line-height: 1.6;
        }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 48px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-align: center;
            width: 100%;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }
        
        /* MBTI ê·¸ë¦¬ë“œ */
        .mbti-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin: 30px 0;
        }
        
        .mbti-btn {
            padding: 20px 10px;
            border: 2px solid #e2e8f0;
            background: white;
            cursor: pointer;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            color: #4a5568;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .mbti-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: left 0.3s ease;
            z-index: 0;
        }
        
        .mbti-btn:hover:before {
            left: 0;
        }
        
        .mbti-btn:hover {
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
        }
        
        .mbti-btn span {
            position: relative;
            z-index: 1;
        }
        
        /* ì…ë ¥ í•„ë“œ */
        .input-group {
            margin: 30px 0;
        }
        
        .input-label {
            display: block;
            color: #4a5568;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .input-field {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* ê²°ê³¼ ì¹´ë“œ */
        .result-card {
            background: #f7fafc;
            border-radius: 16px;
            padding: 30px;
            margin: 20px 0;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .mbti-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 24px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .fortune-section {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        
        .fortune-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .fortune-text {
            color: #4a5568;
            line-height: 1.8;
        }
        
        /* ìƒë‹¨ ê´‘ê³  */
        .top-ad {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 10px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        
        /* ê´‘ê³  ì˜ì—­ */
        .ad-container {
            margin: 20px auto;
            text-align: center;
            min-height: 50px;
            width: 100%;
            max-width: 320px;
            overflow: visible !important;
            position: relative;
        }
        
        /* Kakao ê´‘ê³  ê°•ì œ í‘œì‹œ */
        .kakao_ad_area {
            display: block !important;
            width: 320px !important;
            margin: 0 auto !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 100 !important;
            background: white;
        }
        
        /* ê° ê´‘ê³  í¬ê¸°ë³„ ì„¤ì • */
        .kakao_ad_area[data-ad-unit="DAN-cIOtsbRqKgkRvw1X"] {
            height: 50px !important;
        }
        
        .kakao_ad_area[data-ad-unit="DAN-I87IJKlKm1SxmPvG"], 
        .kakao_ad_area[data-ad-unit="DAN-7yyU9mCDVMJTOAgA"] {
            height: 100px !important;
        }
        
        /* ê´‘ê³  iframe ê°•ì œ í‘œì‹œ */
        .kakao_ad_area iframe {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        .ad-placeholder {
            color: #a0aec0;
            font-size: 0.9rem;
        }
        
        /* ê³µìœ  ë²„íŠ¼ */
        .share-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid #e2e8f0;
            text-align: center;
        }
        
        .share-btn {
            background: #ffc93c;
            color: #2d3748;
            border: none;
            padding: 12px 32px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0 8px;
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 201, 60, 0.4);
        }
        
        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e2e8f0;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 30px 20px;
            }
            
            .mbti-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* í”„ë¦¬ë¯¸ì—„ ë°°ë„ˆ */
        .premium-banner {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
        }
        
        .premium-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .premium-price {
            font-size: 2rem;
            font-weight: 900;
            margin: 10px 0;
        }
        
        .premium-btn {
            background: white;
            color: #f6d365;
            padding: 10px 30px;
            border: none;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 10px;
        }
        
        /* ë§¥ë½ì  ê´‘ê³  ìŠ¤íƒ€ì¼ */
        .contextual-ad {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        .bottom-ad {
            margin: 40px 0 20px 0;
            padding: 20px 0;
            text-align: center;
        }
        
        .ad-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 15px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .ad-divider {
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            margin: 0 auto 20px;
        }
        
        /* ê´‘ê³  ì»¨í…Œì´ë„ˆ */
        .ad-container {
            text-align: center;
            margin: 20px 0;
        }
        
        /* ì¹´ì¹´ì˜¤ ê´‘ê³  ìŠ¤íƒ€ì¼ ì¡°ì • */
        .kakao_ad_area {
            margin: 0 auto !important;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
    </style>
    
    <!-- ì¹´ì¹´ì˜¤ SDK -->
    <!-- Kakao SDK -->
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    
    <!-- Kakao AdFit - ì§€ì—° ë¡œë”© -->
    <script>
        // ì„œë²„ ë ˆë²¨ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‚¬ìš© (vercel.jsonì—ì„œ ì²˜ë¦¬)
        console.log('ğŸŒ ë„ë©”ì¸:', window.location.hostname);
        
        // adsbykakao ê°ì²´ ì´ˆê¸°í™”
        window.adsbykakao = window.adsbykakao || [];
    </script>
</head>
<body>
    <div class="app">
        <!-- ìƒë‹¨ ê´‘ê³  ì œê±°: Steve Jobs ì² í•™ ì ìš© -->

        <div class="container">
            
            <!-- ê¸°ë³¸ ê´‘ê³  ì˜ì—­ - í•­ìƒ ë³´ì´ëŠ” ìœ„ì¹˜ -->
            <div class="ad-container">
                <ins class="kakao_ad_area" 
                     style="display:block;width:320px;height:50px;" 
                     data-ad-unit="DAN-cIOtsbRqKgkRvw1X" 
                     data-ad-width="320" 
                     data-ad-height="50"></ins>
            </div>
            
            <div class="ad-container" style="margin-top: 10px;">
                <ins class="kakao_ad_area" 
                     style="display:block;width:320px;height:100px;" 
                     data-ad-unit="DAN-I87IJKlKm1SxmPvG" 
                     data-ad-width="320" 
                     data-ad-height="100"></ins>
            </div>
            
            <div class="ad-container" style="margin-top: 10px;">
                <ins class="kakao_ad_area" 
                     style="display:block;width:320px;height:100px;" 
                     data-ad-unit="DAN-7yyU9mCDVMJTOAgA" 
                     data-ad-width="320" 
                     data-ad-height="100"></ins>
            </div>
            
            <!-- ì‹œì‘ í™”ë©´ -->
            <div id="startScreen" class="screen active">
                <h1>ğŸ”® 2025 MBTI ìš´ì„¸</h1>
                <p class="subtitle">
                    ë‹¹ì‹ ì˜ MBTI ìœ í˜•ìœ¼ë¡œ<br>
                    2025ë…„ ìš´ì„¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!<br>
                    <strong>3ë¶„ì´ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤</strong>
                </p>
                <button class="btn-primary" onclick="showScreen('selectScreen')">
                    âœ¨ ë‚´ ìš´ëª… í™•ì¸í•˜ê¸°
                </button>
            </div>
            
            <!-- MBTI ì„ íƒ í™”ë©´ -->
            <div id="selectScreen" class="screen">
                <h1>MBTI ì„ íƒ</h1>
                <p class="subtitle">ë‹¹ì‹ ì˜ MBTI ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”</p>
                
                <div class="mbti-grid">
                    <button class="mbti-btn" onclick="selectMBTI('INTJ')"><span>INTJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('INTP')"><span>INTP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ENTJ')"><span>ENTJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ENTP')"><span>ENTP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('INFJ')"><span>INFJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('INFP')"><span>INFP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ENFJ')"><span>ENFJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ENFP')"><span>ENFP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ISTJ')"><span>ISTJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ISFJ')"><span>ISFJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ESTJ')"><span>ESTJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ESFJ')"><span>ESFJ</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ISTP')"><span>ISTP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ISFP')"><span>ISFP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ESTP')"><span>ESTP</span></button>
                    <button class="mbti-btn" onclick="selectMBTI('ESFP')"><span>ESFP</span></button>
                </div>
                
                <button class="btn-primary" onclick="startTest()" style="background: #cbd5e0; box-shadow: none;">
                    ì˜ ëª¨ë¥´ê² ì–´ìš” (í…ŒìŠ¤íŠ¸ í•˜ê¸°)
                </button>
            </div>
            
            <!-- ì´ë¦„ ì…ë ¥ í™”ë©´ -->
            <div id="nameScreen" class="screen">
                <h1>ì´ë¦„ ì…ë ¥</h1>
                <p class="subtitle">ë‹¹ì‹ ì˜ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”</p>
                
                <div class="input-group">
                    <label class="input-label" for="nameInput">ì´ë¦„</label>
                    <input type="text" id="nameInput" class="input-field" placeholder="í™ê¸¸ë™" maxlength="20">
                </div>
                
                <button class="btn-primary" onclick="showResult()">
                    ê²°ê³¼ í™•ì¸í•˜ê¸°
                </button>
            </div>
            
            <!-- ë¡œë”© í™”ë©´ -->
            <div id="loadingScreen" class="screen">
                <div class="loading">
                    <div class="spinner"></div>
                    <h2>ìš´ì„¸ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h2>
                    <p class="subtitle">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</p>
                </div>
            </div>
            
            
            <!-- ê²°ê³¼ í™”ë©´ -->
            <div id="resultScreen" class="screen">
                <div class="result-header">
                    <div class="mbti-badge" id="resultMBTI">INTJ</div>
                    <h1><span id="resultName">í™ê¸¸ë™</span>ë‹˜ì˜ 2025ë…„ ìš´ì„¸</h1>
                </div>
                
                
                
                <!-- ì´ìš´ -->
                <div class="fortune-section">
                    <div class="fortune-title">
                        ğŸŒŸ 2025ë…„ ì´ìš´
                    </div>
                    <div class="fortune-text" id="overallFortune">
                        2025ë…„ì€ ë‹¹ì‹ ì—ê²Œ íŠ¹ë³„í•œ í•œ í•´ê°€ ë  ê²ƒì…ë‹ˆë‹¤.
                    </div>
                </div>
                
                <!-- ì—°ì• ìš´ -->
                <div class="fortune-section">
                    <div class="fortune-title">
                        ğŸ’• ì—°ì• ìš´
                    </div>
                    <div class="fortune-text" id="loveFortune">
                        ì‚¬ë‘ì´ ë„˜ì¹˜ëŠ” í•œ í•´ê°€ ë  ê²ƒì…ë‹ˆë‹¤.
                    </div>
                </div>
                
                <!-- ê¸ˆì „ìš´ -->
                <div class="fortune-section">
                    <div class="fortune-title">
                        ğŸ’° ê¸ˆì „ìš´
                    </div>
                    <div class="fortune-text" id="moneyFortune">
                        ì¬ë¬¼ìš´ì´ ìƒìŠ¹í•˜ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤.
                    </div>
                </div>
                
                <!-- ì§ì—…ìš´ -->
                <div class="fortune-section">
                    <div class="fortune-title">
                        ğŸ’¼ ì§ì—…ìš´
                    </div>
                    <div class="fortune-text" id="careerFortune">
                        ì»¤ë¦¬ì–´ì—ì„œ í° ì„±ì¥ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
                    </div>
                </div>
                
                <!-- í”„ë¦¬ë¯¸ì—„ ë°°ë„ˆ -->
                <div class="premium-banner">
                    <div class="premium-title">ğŸ ë” ìì„¸í•œ ìš´ì„¸ë¥¼ ì›í•˜ì‹œë‚˜ìš”?</div>
                    <div class="premium-price">â‚©4,900</div>
                    <button class="premium-btn" onclick="showPremium()">
                        í”„ë¦¬ë¯¸ì—„ ìš´ì„¸ ë³´ê¸°
                    </button>
                </div>
                
                <!-- ê³µìœ  ë²„íŠ¼ -->
                <div class="share-section">
                    <button class="share-btn" onclick="shareKakao()">
                        ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
                    </button>
                    <button class="btn-primary" onclick="restart()">
                        ë‹¤ì‹œ í•˜ê¸°
                    </button>
                </div>
                
            </div>
        </div>
    </div>
    
    <script>
        // ì „ì—­ ë³€ìˆ˜
        let selectedMBTI = '';
        let userName = '';
        
        // MBTIë³„ ìš´ì„¸ ë°ì´í„°
        const fortunes = {
            'INTJ': {
                overall: '2025ë…„ì€ ë‹¹ì‹ ì˜ ì „ëµì  ì‚¬ê³ ê°€ ë¹›ì„ ë°œí•˜ëŠ” í•´ì…ë‹ˆë‹¤. ê·¸ë™ì•ˆ ì¤€ë¹„í•´ì˜¨ ê³„íšë“¤ì´ í•˜ë‚˜ì”© ê²°ì‹¤ì„ ë§ºê¸° ì‹œì‘í•  ê²ƒì…ë‹ˆë‹¤.',
                love: 'ì§€ì ì¸ ëŒ€í™”ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ ì¸ì—°ì„ ë§Œë‚  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. í‰ì†Œë³´ë‹¤ ì¡°ê¸ˆ ë” ë§ˆìŒì„ ì—´ì–´ë³´ì„¸ìš”.',
                money: 'íˆ¬ì ìˆ˜ìµì´ ê¸°ëŒ€ë˜ëŠ” í•œ í•´ì…ë‹ˆë‹¤. íŠ¹íˆ ì¥ê¸° íˆ¬ìì™€ ë¶€ë™ì‚° ìª½ì—ì„œ ì¢‹ì€ ê¸°íšŒê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                career: 'ë¦¬ë”ì‹­ì„ ë°œíœ˜í•  ê¸°íšŒê°€ ë§ì•„ì§‘ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë¹„ì „ê³¼ ì²´ê³„ì ì¸ ì ‘ê·¼ì´ ì¸ì •ë°›ì„ ê²ƒì…ë‹ˆë‹¤.'
            },
            'INFJ': {
                overall: '2025ë…„ì€ ë‹¹ì‹ ì˜ ì§ê´€ë ¥ì´ íŠ¹íˆ ì •í™•í•´ì§€ëŠ” í•´ì…ë‹ˆë‹¤. ìˆ¨ê²¨ì§„ ê¸°íšŒë“¤ì„ ë°œê²¬í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.',
                love: 'ì§„ì •í•œ ì†Œìš¸ë©”ì´íŠ¸ë¥¼ ë§Œë‚  ìˆ˜ ìˆëŠ” í•´ì…ë‹ˆë‹¤. ê¹Šì€ ê°ì •ì  ì—°ê²°ì„ ê²½í—˜í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.',
                money: 'ì˜ˆìƒì¹˜ ëª»í•œ ê³³ì—ì„œ ìˆ˜ìµì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§ê´€ì„ ë¯¿ê³  í–‰ë™í•˜ì„¸ìš”.',
                career: 'ì°½ì‘ í™œë™ì´ë‚˜ ìƒë‹´ ê´€ë ¨ ë¶„ì•¼ì—ì„œ íŠ¹ë³„í•œ ì¬ëŠ¥ì„ ë°œíœ˜í•  ê²ƒì…ë‹ˆë‹¤.'
            },
            'ENFP': {
                overall: '2025ë…„ì€ ëª¨í—˜ê³¼ ìƒˆë¡œìš´ ê²½í—˜ì´ ê°€ë“í•œ í•´ê°€ ë  ê²ƒì…ë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ê¸°íšŒë“¤ì´ ì—°ì†ìœ¼ë¡œ ì°¾ì•„ì˜¬ ê²ƒì…ë‹ˆë‹¤.',
                love: 'ì—¬ëŸ¬ ì¸ì—° ì¤‘ì—ì„œ ì„ íƒí•´ì•¼ í•˜ëŠ” í–‰ë³µí•œ ê³ ë¯¼ì´ ìƒê¸¸ ê²ƒì…ë‹ˆë‹¤. ì§ê°ì„ ë¯¿ê³  ì„ íƒí•˜ì„¸ìš”.',
                money: 'ë‹¤ì–‘í•œ ìˆ˜ì…ì›ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ë¶„ì•¼ì— ê´€ì‹¬ì„ ê°€ì§€ëŠ” ê²ƒì´ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.',
                career: 'ìƒˆë¡œìš´ ë¶„ì•¼ì— ë„ì „í•  ê¸°íšŒê°€ ì˜¬ ê²ƒì…ë‹ˆë‹¤. ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ê³  ê³¼ê°í•˜ê²Œ ë„ì „í•˜ì„¸ìš”.'
            },
            'ISTJ': {
                overall: '2025ë…„ì€ ê¾¸ì¤€í•¨ì´ ê²°ì‹¤ì„ ë§ºëŠ” í•´ì…ë‹ˆë‹¤. ê·¸ë™ì•ˆì˜ ë…¸ë ¥ì´ ì¸ì •ë°›ê³  ì•ˆì •ì ì¸ ì„±ê³¼ë¥¼ ê±°ë‘˜ ê²ƒì…ë‹ˆë‹¤.',
                love: 'ì˜¤ë˜ëœ ì¸ì—°ì´ ìƒˆë¡­ê²Œ ë°œì „í•˜ê±°ë‚˜, ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ì¸ì—°ì„ ë§Œë‚  ê²ƒì…ë‹ˆë‹¤.',
                money: 'ì €ì¶•ê³¼ íˆ¬ìì—ì„œ ì•ˆì •ì ì¸ ìˆ˜ìµì„ ì–»ì„ ê²ƒì…ë‹ˆë‹¤. ê³„íšì ì¸ ì†Œë¹„ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.',
                career: 'ìŠ¹ì§„ì´ë‚˜ ì´ì§ì˜ ê¸°íšŒê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì„±ì‹¤í•¨ì´ ë¹›ì„ ë°œí•  ë•Œì…ë‹ˆë‹¤.'
            }
        };
        
        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function showScreen(screenId) {
            // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // ì„ íƒí•œ í™”ë©´ í‘œì‹œ
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            }
            
            // í™”ë©´ ì „í™˜ í›„ ê´‘ê³  ë Œë”ë§ ì¬ì‹œë„
            setTimeout(() => {
                console.log(`ğŸ”„ í™”ë©´ ì „í™˜ í›„ ê´‘ê³  ë Œë”ë§ ì¬ì‹œë„: ${screenId}`);
                // ë Œë”ë§ë˜ì§€ ì•Šì€ ê´‘ê³  ì˜ì—­ë“¤ë§Œ ë‹¤ì‹œ ì‹œë„
                const unrenderedAds = document.querySelectorAll('.kakao_ad_area:not([data-rendered="true"])');
                if (unrenderedAds.length > 0) {
                    console.log(`ë¯¸ë Œë”ë§ ê´‘ê³  ${unrenderedAds.length}ê°œ ë°œê²¬, ë Œë”ë§ ì‹œë„`);
                    unrenderedAds.forEach((area, index) => {
                        const adUnit = area.getAttribute('data-ad-unit');
                        console.log(`â¡ï¸ ê´‘ê³  ë Œë”ë§: ${adUnit}`);
                        window.adsbykakao.push({});
                        area.setAttribute('data-rendered', 'true');
                    });
                }
            }, 500);
        }
        
        // MBTI ì„ íƒ
        function selectMBTI(mbti) {
            selectedMBTI = mbti;
            showScreen('nameScreen');
        }
        
        // í…ŒìŠ¤íŠ¸ ì‹œì‘ (ì¶”í›„ êµ¬í˜„)
        function startTest() {
            alert('í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤. MBTIë¥¼ ì§ì ‘ ì„ íƒí•´ì£¼ì„¸ìš”!');
        }
        
        // ê²°ê³¼ í‘œì‹œ
        function showResult() {
            userName = document.getElementById('nameInput').value.trim() || 'ë‹¹ì‹ ';
            
            // ë¡œë”© í™”ë©´ í‘œì‹œ
            showScreen('loadingScreen');
            
            // 2ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ
            setTimeout(() => {
                // ê²°ê³¼ ë°ì´í„° ì„¤ì •
                document.getElementById('resultName').textContent = userName;
                document.getElementById('resultMBTI').textContent = selectedMBTI;
                
                // ìš´ì„¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                const fortune = fortunes[selectedMBTI] || fortunes['INTJ'];
                document.getElementById('overallFortune').textContent = fortune.overall;
                document.getElementById('loveFortune').textContent = fortune.love;
                document.getElementById('moneyFortune').textContent = fortune.money;
                document.getElementById('careerFortune').textContent = fortune.career;
                
                // ê²°ê³¼ í™”ë©´ í‘œì‹œ
                showScreen('resultScreen');
                
                
                // ê²°ê³¼ í™”ë©´ì—ì„œ ê´‘ê³  ì¬ë Œë”ë§ (ê¸´ ëŒ€ê¸° ì‹œê°„)
                setTimeout(() => {
                    console.log('ğŸ¯ ê²°ê³¼ í™”ë©´ ê´‘ê³  ë Œë”ë§ ì‹œë„');
                    // ê¸°ì¡´ ë Œë”ë§ ìƒíƒœ ì´ˆê¸°í™”
                    document.querySelectorAll('.kakao_ad_area').forEach(area => {
                        area.removeAttribute('data-rendered');
                    });
                    renderAds();
                }, 3000);
            }, 2000);
        }
        
        // ë‹¤ì‹œ ì‹œì‘
        function restart() {
            selectedMBTI = '';
            userName = '';
            document.getElementById('nameInput').value = '';
            showScreen('startScreen');
        }
        
        // ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
        function shareKakao() {
            // Kakao SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ê²½ìš°
            if (!window.Kakao) {
                alert('ì¹´ì¹´ì˜¤í†¡ ê³µìœ ëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
                return;
            }
            if (!Kakao.isInitialized()) {
                Kakao.init('48c0d88498f6ea2f7e8c8f87654321ab');
            }
            
            const shareText = `ë‚˜ì˜ 2025ë…„ ${selectedMBTI} ìš´ì„¸ë¥¼ í™•ì¸í–ˆì–´ìš”! ë‹¹ì‹ ë„ í™•ì¸í•´ë³´ì„¸ìš” ğŸ”®`;
            
            // ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë˜ëŠ” ë§í¬ ë³µì‚¬
            if (navigator.share) {
                navigator.share({
                    title: '2025 MBTI ìš´ì„¸',
                    text: shareText,
                    url: window.location.href
                }).catch(err => {
                    // ì‚¬ìš©ìê°€ ê³µìœ ë¥¼ ì·¨ì†Œí•œ ê²½ìš° ë¬´ì‹œ
                    if (err.name !== 'AbortError') {
                        console.log('ê³µìœ  ì˜¤ë¥˜:', err);
                    }
                });
            } else {
                // ë§í¬ ë³µì‚¬
                navigator.clipboard.writeText(window.location.href);
                alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }
        }
        
        // í”„ë¦¬ë¯¸ì—„ í‘œì‹œ
        function showPremium() {
            alert('í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
        }
        
        // ê´‘ê³  ë Œë”ë§ - ë””ë²„ê¹… ê°•í™”
        function renderAds() {
            console.log('=== ê´‘ê³  ë Œë”ë§ ì‹œì‘ ===');
            console.log('í˜„ì¬ ë„ë©”ì¸:', window.location.hostname);
            console.log('adsbykakao ê°ì²´:', typeof window.adsbykakao);
            
            // adsbykakao ê°ì²´ í™•ì¸
            if (!window.adsbykakao) {
                window.adsbykakao = [];
                console.log('âš ï¸ adsbykakao ê°ì²´ ìƒì„±í•¨');
            }
            
            try {
                // ëª¨ë“  ê´‘ê³  ì˜ì—­ ë Œë”ë§
                const adAreas = document.querySelectorAll('.kakao_ad_area');
                console.log(`ê´‘ê³  ì˜ì—­ ${adAreas.length}ê°œ ë°œê²¬`);
                
                adAreas.forEach((area, index) => {
                    const adUnit = area.getAttribute('data-ad-unit');
                    const isVisible = area.offsetParent !== null;
                    const isRendered = area.getAttribute('data-rendered');
                    
                    // ìƒì„¸ ì •ë³´ ê°œë³„ ì¶œë ¥
                    console.log(`ê´‘ê³  ${index + 1} ìƒíƒœ:`);
                    console.log(`  - ê´‘ê³ ë‹¨ìœ„: ${adUnit}`);
                    console.log(`  - ê°€ì‹œì„±: ${isVisible}`);
                    console.log(`  - ë Œë”ë§ë¨: ${isRendered}`);
                    console.log(`  - í¬ê¸°: ${area.offsetWidth}x${area.offsetHeight}`);
                    
                    // ì´ë¯¸ ë Œë”ë§ëœ ê´‘ê³ ëŠ” ê±´ë„ˆë›°ê¸°
                    if (!isRendered) {
                        console.log(`â¡ï¸ ê´‘ê³  ${index + 1} ë Œë”ë§ ì‹œë„: ${adUnit}`);
                        
                        // adsbykakaoì— push
                        window.adsbykakao.push({});
                        area.setAttribute('data-rendered', 'true');
                        
                        // 2ì´ˆ í›„ ë Œë”ë§ ê²°ê³¼ í™•ì¸
                        setTimeout(() => {
                            const hasContent = area.children.length > 0 || area.innerHTML.trim().length > 0;
                            console.log(`\n=== ê´‘ê³  ${index + 1} ë Œë”ë§ ê²°ê³¼ ===`);
                            console.log(`ê´‘ê³ ë‹¨ìœ„: ${adUnit}`);
                            console.log(`ì½˜í…ì¸  ìˆìŒ: ${hasContent}`);
                            console.log(`ìì‹ ìš”ì†Œ ìˆ˜: ${area.children.length}`);
                            console.log(`HTML ê¸¸ì´: ${area.innerHTML.length}`);
                            if (hasContent) {
                                console.log(`HTML ë¯¸ë¦¬ë³´ê¸°: ${area.innerHTML.substring(0, 150)}...`);
                            } else {
                                console.log(`âš ï¸ ê´‘ê³  ì½˜í…ì¸ ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`);
                            }
                        }, 2000);
                    }
                });
                
                console.log('adsbykakao.push ì™„ë£Œ, ì´ ê¸¸ì´:', window.adsbykakao.length);
            } catch(e) {
                console.error('âŒ ê´‘ê³  ë Œë”ë§ ì˜¤ë¥˜:', e);
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ë¡œë“œ ì™„ë£Œ');
            
            // adsbykakao ê°ì²´ ê°•ì œ ìƒì„±
            if (!window.adsbykakao) {
                window.adsbykakao = [];
                console.log('adsbykakao ê°ì²´ ìƒì„±ë¨');
            }
            
            // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ AdFit ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ (ì‚¬ìš©ì ê²½í—˜ ìš°ì„ )
            setTimeout(() => {
                const adScript = document.createElement('script');
                adScript.src = '//t1.daumcdn.net/kas/static/ba.min.js';
                adScript.async = true;
                adScript.onload = () => {
                    console.log('ğŸš€ AdFit ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ');
                    setTimeout(() => {
                        console.log('ğŸš€ ì´ˆê¸° ê´‘ê³  ë Œë”ë§ ì‹œë„');
                        renderAds();
                    }, 500);
                };
                adScript.onerror = () => {
                    console.error('âŒ AdFit ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨');
                };
                document.head.appendChild(adScript);
            }, 1500); // 1.5ì´ˆë¡œ ë‹¨ì¶•
        });
        
        // ì „ì²´ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„
        window.addEventListener('load', function() {
            console.log('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
            
            // ì¶”ê°€ ë Œë”ë§ ì‹œë„
            setTimeout(() => {
                console.log('ì¶”ê°€ ê´‘ê³  ë Œë”ë§ ì‹œë„');
                renderAds();
            }, 3000);
        });
    </script>
</body>
</html>